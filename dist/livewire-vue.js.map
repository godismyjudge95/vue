{"version":3,"file":"livewire-vue.js","sources":["../src/index.js"],"sourcesContent":["export function createLivewireApp(createMyApp) {\n\tconst app = createMyApp();\n\tsetupLivewireMixin(app);\n\n\tif (typeof window.livewire === 'undefined') {\n\t\tthrow 'Livewire Vue Plugin: window.livewire is undefined. Make sure @livewireScripts is placed above this script include';\n\t}\n\t\n\twindow.livewire.hook('message.received', (message, component) => {\n\t\tif (! message.response.effects.html) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tconst div = document.createElement('div');\n\t\tdiv.innerHTML =  message.response.effects.html;\n\t\n\t\tconst newApp = createMyApp();\n\t\tsetupLivewireMixin(newApp);\n\n\t\tnewApp.mount(div.firstElementChild);\n\t\tmessage.response.effects.html = div.firstElementChild;\n\t});\n\t\n\twindow.livewire.hook('element.initialized', el => {\n\t\tif (el.__vue__) {\n\t\t\tel.__livewire_ignore = true;\n\t\t}\n\t});\n\t\n\twindow.livewire.hook('interceptWireModelSetValue', (value, el) => {\n\t\t// If it's a vue component pass down the value prop.\n\t\tif (! el.__vue__ || el.value == value) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tel.__vue__._.props.modelValue = value;\n\t\tconsole.log(['Livewire updating modelValue', value, el]);\n\t});\n\t\n\twindow.livewire.hook('interceptWireModelAttachListener', (directive, el, component, debounceIf) => {\n\t\t// If it's a vue component pass down the value prop.\n\t\tif (! el.__vue__) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tconst hasDebounceModifier = directive.modifiers.includes('debounce');\n\t\tconst isLazy = directive.modifiers.includes('lazy');\n\t\n\t\tif (debounceIf == undefined) {\n\t\t\tdebounceIf = (condition, callback, time) => {\n\t\t\t\treturn condition\n\t\t\t\t\t\t? component.modelSyncDebounce(callback, time)\n\t\t\t\t\t\t: callback\n\t\t\t}\n\t\t}\n\t\n\t\tel.addEventListener('livewire:update:modelValue', debounceIf(hasDebounceModifier || ! isLazy, e => {\n\t\t\tconst model = directive.value;\n\t\t\tconst value = e.detail;\n\t\n\t\t\tcomponent.set(model, value);\n\t\t}, directive.durationOr(150)));\n\t});\n\n\treturn app;\n}\n\nfunction setupLivewireMixin(initApp) {\n\tinitApp.mixin({\n\t\tbeforeCreate() {\n\t\t\tif (this._.vnode.props) {\n\t\t\t\tthis._.vnode.props['onUpdate:modelValue'] = (value) => {\n\t\t\t\t\tthis._.vnode.el.dispatchEvent(new CustomEvent('livewire:update:modelValue', {\n\t\t\t\t\t\tdetail: value,\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tif (this._.parent) {\n\t\t\t\tthis.$el.__vue__ = this;\n\t\t\t}\n\t\t},\n\t});\n}\n\nexport default {\n\tcreateLivewireApp\n}"],"names":["createLivewireApp","createMyApp","app","setupLivewireMixin","window","livewire","hook","message","component","response","effects","html","div","document","createElement","innerHTML","newApp","mount","firstElementChild","el","__vue__","__livewire_ignore","value","_","props","modelValue","console","log","directive","debounceIf","hasDebounceModifier","modifiers","includes","isLazy","undefined","condition","callback","time","modelSyncDebounce","addEventListener","e","model","detail","set","durationOr","initApp","mixin","beforeCreate","this","vnode","dispatchEvent","CustomEvent","mounted","parent","$el"],"mappings":"yMAAO,SAASA,EAAkBC,SAC3BC,EAAMD,OACZE,EAAmBD,QAEY,IAApBE,OAAOC,cACX,2HAGPD,OAAOC,SAASC,KAAK,mBAAoB,CAACC,EAASC,SAC5CD,EAAQE,SAASC,QAAQC,kBAIzBC,EAAMC,SAASC,cAAc,OACnCF,EAAIG,UAAaR,EAAQE,SAASC,QAAQC,WAEpCK,EAASf,IACfE,EAAmBa,GAEnBA,EAAOC,MAAML,EAAIM,mBACjBX,EAAQE,SAASC,QAAQC,KAAOC,EAAIM,oBAGrCd,OAAOC,SAASC,KAAK,sBAAuBa,IACvCA,EAAGC,UACND,EAAGE,mBAAoB,KAIzBjB,OAAOC,SAASC,KAAK,6BAA8B,CAACgB,EAAOH,KAEpDA,EAAGC,SAAWD,EAAGG,OAASA,IAIhCH,EAAGC,QAAQG,EAAEC,MAAMC,WAAaH,EAChCI,QAAQC,IAAI,CAAC,+BAAgCL,EAAOH,OAGrDf,OAAOC,SAASC,KAAK,mCAAoC,CAACsB,EAAWT,EAAIX,EAAWqB,SAE7EV,EAAGC,qBAIHU,EAAsBF,EAAUG,UAAUC,SAAS,YACnDC,EAASL,EAAUG,UAAUC,SAAS,QAE1BE,MAAdL,IACHA,EAAa,CAACM,EAAWC,EAAUC,IAC3BF,EACH3B,EAAU8B,kBAAkBF,EAAUC,GACtCD,GAINjB,EAAGoB,iBAAiB,6BAA8BV,EAAWC,IAAyBG,EAAQO,UACvFC,EAAQb,EAAUN,MAClBA,EAAQkB,EAAEE,OAEhBlC,EAAUmC,IAAIF,EAAOnB,IACnBM,EAAUgB,WAAW,SAGlB1C,EAGR,SAASC,EAAmB0C,GAC3BA,EAAQC,MAAM,CACbC,eACKC,KAAKzB,EAAE0B,MAAMzB,aACXD,EAAE0B,MAAMzB,MAAM,uBAA0BF,SACvCC,EAAE0B,MAAM9B,GAAG+B,cAAc,IAAIC,YAAY,6BAA8B,CAC3ET,OAAQpB,QAKZ8B,UACKJ,KAAKzB,EAAE8B,cACLC,IAAIlC,QAAU4B,eAMR,CACdhD,kBAAAA"}